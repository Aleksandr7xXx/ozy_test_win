using System;
using System.Diagnostics;
using System.IO;
using System.Threading;

namespace launcher
{
    class Program
    {
        static int bufLast;
        static int mem;
        static int time_execution;
        static int time_pause;
        static int time_summ;
        static void Main(string[] args)
        {
            if (args.Length > 0)
            {
                bufLast = int.Parse(args[1]);
                mem = int.Parse(args[2]);
                time_execution = int.Parse(args[3]);
                time_pause = int.Parse(args[4]);
            }
        string filepath = '"' + Directory.GetCurrentDirectory() + "\\ozy_Test.exe" + '"';
        Process proc = new Process();
            proc.StartInfo.FileName = filepath;
            proc.StartInfo.Arguments = "-a 1 " + mem;
            proc.Start();
        
        int time_summ = (time_execution + time_pause) * 1000;
        Thread.Sleep(time_summ);
            Process bat = new Process();
            bat.StartInfo.FileName = '"' + Directory.GetCurrentDirectory() + "\\1.bat" + '"';
            bat.Start();
        }
    }
}
